{"ast":null,"code":"import _slicedToArray from\"/Users/mymac/Documents/GitHub/Cryptoapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import{formatUnits}from\"ethers/lib/utils\";import{chevronDown}from\"../assets\";import{useAmountsOut,useOnClickOutside}from\"../utils\";import styles from\"../styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AmountOut=function AmountOut(_ref){var _useAmountsOut;var fromToken=_ref.fromToken,toToken=_ref.toToken,amountIn=_ref.amountIn,pairContract=_ref.pairContract,currencyValue=_ref.currencyValue,onSelect=_ref.onSelect,currencies=_ref.currencies;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showList=_useState2[0],setShowList=_useState2[1];var _useState3=useState(\"Select\"),_useState4=_slicedToArray(_useState3,2),activeCurrency=_useState4[0],setActiveCurrency=_useState4[1];var ref=useRef();var amountOut=(_useAmountsOut=useAmountsOut(pairContract,amountIn,fromToken,toToken))!==null&&_useAmountsOut!==void 0?_useAmountsOut:0;useOnClickOutside(ref,function(){return setShowList(false);});useEffect(function(){if(Object.keys(currencies).includes(currencyValue)){setActiveCurrency(currencies[currencyValue]);}else{setActiveCurrency(\"Select\");}},[currencyValue,currencies]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.amountContainer,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"0.0\",type:\"number\",value:formatUnits(amountOut),className:styles.amountInput,disabled:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",onClick:function onClick(){return setShowList(!showList);},children:[/*#__PURE__*/_jsxs(\"button\",{className:styles.currencyButton,children:[activeCurrency,/*#__PURE__*/_jsx(\"img\",{src:chevronDown,alt:\"cheveron-down\",className:\"w-4 h-4 object-contain ml-2 \".concat(showList?\"rotate-180\":\"rotate-0\")})]}),showList&&/*#__PURE__*/_jsx(\"ul\",{ref:ref,className:styles.currencyList,children:Object.entries(currencies).map(function(_ref2,index){var _ref3=_slicedToArray(_ref2,2),token=_ref3[0],tokenName=_ref3[1];return/*#__PURE__*/_jsx(\"li\",{className:styles.currencyListItem,onClick:function onClick(){if(typeof onSelect===\"function\")onSelect(token);setActiveCurrency(tokenName);setShowList(false);},children:tokenName},index);})})]})]});};export default AmountOut;","map":{"version":3,"names":["React","useState","useEffect","useRef","formatUnits","chevronDown","useAmountsOut","useOnClickOutside","styles","AmountOut","fromToken","toToken","amountIn","pairContract","currencyValue","onSelect","currencies","showList","setShowList","activeCurrency","setActiveCurrency","ref","amountOut","Object","keys","includes","amountContainer","amountInput","currencyButton","currencyList","entries","map","index","token","tokenName","currencyListItem"],"sources":["/Users/mymac/Documents/GitHub/Cryptoapp/packages/react-app/src/components/AmountOut.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { formatUnits } from \"ethers/lib/utils\";\n\nimport { chevronDown } from \"../assets\";\nimport { useAmountsOut, useOnClickOutside } from \"../utils\";\nimport styles from \"../styles\";\n\nconst AmountOut = ({ fromToken, toToken, amountIn, pairContract, currencyValue, onSelect, currencies }) => {\n  const [showList, setShowList] = useState(false);\n  const [activeCurrency, setActiveCurrency] = useState(\"Select\");\n  const ref = useRef()\n\n  const amountOut = useAmountsOut(pairContract, amountIn, fromToken, toToken) ?? 0;\n\n  useOnClickOutside(ref, () => setShowList(false))\n\n  useEffect(() => {\n    if (Object.keys(currencies).includes(currencyValue)) {\n      setActiveCurrency(currencies[currencyValue]);\n    } else {\n      setActiveCurrency(\"Select\")\n    }\n  }, [currencyValue, currencies]);\n\n  return (\n    <div className={styles.amountContainer}>\n      <input\n        placeholder=\"0.0\"\n        type=\"number\"\n        value={formatUnits(amountOut)}\n        className={styles.amountInput}\n        disabled\n      />\n\n      <div className=\"relative\" onClick={() => setShowList(!showList)}>\n        <button className={styles.currencyButton}>\n          {activeCurrency}\n          <img\n            src={chevronDown}\n            alt=\"cheveron-down\"\n            className={`w-4 h-4 object-contain ml-2 ${showList ? \"rotate-180\" : \"rotate-0\"}`}\n          />\n        </button>\n\n        {showList && (\n          <ul ref={ref} className={styles.currencyList}>\n            {Object.entries(currencies).map(([token, tokenName], index) => (\n              <li\n                key={index}\n                className={styles.currencyListItem}\n                onClick={() => {\n                  if (typeof onSelect === \"function\") onSelect(token);\n                  setActiveCurrency(tokenName);\n                  setShowList(false);\n                }}\n              >\n                {tokenName}\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AmountOut;\n"],"mappings":"6HAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,OAASC,WAAT,KAA4B,WAA5B,CACA,OAASC,aAAT,CAAwBC,iBAAxB,KAAiD,UAAjD,CACA,MAAOC,OAAP,KAAmB,WAAnB,C,wFAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,MAAyF,uBAAtFC,UAAsF,MAAtFA,SAAsF,CAA3EC,OAA2E,MAA3EA,OAA2E,CAAlEC,QAAkE,MAAlEA,QAAkE,CAAxDC,YAAwD,MAAxDA,YAAwD,CAA1CC,aAA0C,MAA1CA,aAA0C,CAA3BC,QAA2B,MAA3BA,QAA2B,CAAjBC,UAAiB,MAAjBA,UAAiB,CACzG,cAAgCf,QAAQ,CAAC,KAAD,CAAxC,wCAAOgB,QAAP,eAAiBC,WAAjB,eACA,eAA4CjB,QAAQ,CAAC,QAAD,CAApD,yCAAOkB,cAAP,eAAuBC,iBAAvB,eACA,GAAMC,IAAG,CAAGlB,MAAM,EAAlB,CAEA,GAAMmB,UAAS,iBAAGhB,aAAa,CAACO,YAAD,CAAeD,QAAf,CAAyBF,SAAzB,CAAoCC,OAApC,CAAhB,iDAAgE,CAA/E,CAEAJ,iBAAiB,CAACc,GAAD,CAAM,iBAAMH,YAAW,CAAC,KAAD,CAAjB,EAAN,CAAjB,CAEAhB,SAAS,CAAC,UAAM,CACd,GAAIqB,MAAM,CAACC,IAAP,CAAYR,UAAZ,EAAwBS,QAAxB,CAAiCX,aAAjC,CAAJ,CAAqD,CACnDM,iBAAiB,CAACJ,UAAU,CAACF,aAAD,CAAX,CAAjB,CACD,CAFD,IAEO,CACLM,iBAAiB,CAAC,QAAD,CAAjB,CACD,CACF,CANQ,CAMN,CAACN,aAAD,CAAgBE,UAAhB,CANM,CAAT,CAQA,mBACE,aAAK,SAAS,CAAER,MAAM,CAACkB,eAAvB,wBACE,cACE,WAAW,CAAC,KADd,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAEtB,WAAW,CAACkB,SAAD,CAHpB,CAIE,SAAS,CAAEd,MAAM,CAACmB,WAJpB,CAKE,QAAQ,KALV,EADF,cASE,aAAK,SAAS,CAAC,UAAf,CAA0B,OAAO,CAAE,yBAAMT,YAAW,CAAC,CAACD,QAAF,CAAjB,EAAnC,wBACE,gBAAQ,SAAS,CAAET,MAAM,CAACoB,cAA1B,WACGT,cADH,cAEE,YACE,GAAG,CAAEd,WADP,CAEE,GAAG,CAAC,eAFN,CAGE,SAAS,uCAAiCY,QAAQ,CAAG,YAAH,CAAkB,UAA3D,CAHX,EAFF,GADF,CAUGA,QAAQ,eACP,WAAI,GAAG,CAAEI,GAAT,CAAc,SAAS,CAAEb,MAAM,CAACqB,YAAhC,UACGN,MAAM,CAACO,OAAP,CAAed,UAAf,EAA2Be,GAA3B,CAA+B,eAAqBC,KAArB,oCAAEC,KAAF,UAASC,SAAT,6BAC9B,WAEE,SAAS,CAAE1B,MAAM,CAAC2B,gBAFpB,CAGE,OAAO,CAAE,kBAAM,CACb,GAAI,MAAOpB,SAAP,GAAoB,UAAxB,CAAoCA,QAAQ,CAACkB,KAAD,CAAR,CACpCb,iBAAiB,CAACc,SAAD,CAAjB,CACAhB,WAAW,CAAC,KAAD,CAAX,CACD,CAPH,UASGgB,SATH,EACOF,KADP,CAD8B,EAA/B,CADH,EAXJ,GATF,GADF,CAwCD,CAzDD,CA2DA,cAAevB,UAAf"},"metadata":{},"sourceType":"module"}